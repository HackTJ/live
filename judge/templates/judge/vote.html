{% extends "base.html" %}

{% load i18n %}

{% block content %}
<div class="w-2/3 content-center justify-center text-center mx-auto space-y-4 mb-6">
  <h1 class="text-2xl text-center">{% translate "Vote" %}</h1>
  <a href="/judge" class="text-indigo-700 hover:underline">Return to Judge Home</a>
  <div class="flex flex-wrap">
    <div class="bg-blue-200 lg:w-1/3 mx-auto my-3 pb-2 rounded">
      <h2 class="bg-blue-400 text-xl rounded-t px-4">Previous</h2>
      <h3 class="text-lg text-black px-4">{{ prev.name }}</h3>
      <p class="text-gray-700 px-4">{{ prev.description }}</p>
      <p class="text-gray-700 px-4"><b>Location: </b>{{ prev.location }}</p>
    </div>
    <div class="bg-blue-200 lg:w-1/3 mx-auto my-3 pb-2 rounded">
      <h2 class="bg-blue-400 text-xl rounded-t px-4">Current</h2>
      <h3 class="text-lg text-black px-4">{{ current.name }}</h3>
      <p class="text-gray-700 px-4">{{ current.description }}</p>
      <p class="text-gray-700 px-4"><b>Location: </b>{{ current.location }}</p>
    </div>
  </div>
  <form action="/judge/vote" method="POST" class="text-black flex flex-col sm:flex-row justify-center items-center sm:items-baseline flex-wrap text-black space-x-4 space-y-4 sm:space-x-0">
    {% csrf_token %}

    {% for criterion_name in criteria[1:] %}
    <div>
        <p>Which project is better in terms of {{ criterion_name }}</p>
        <input class="mx-auto sm:mx-0 sm:rounded-r-none flex justify-center px-4 py-2 rounded cursor-pointer border duration-200 ease-in-out transition-colors hover:bg-gray-600 hover:border-gray-600 hover:text-white"
        name= "c{{ forloop.counter }}" type="radio" value="previous"/>
        <input class="mx-auto sm:mx-0 sm:rounded-l-none flex justify-center px-4 py-2 rounded cursor-pointer border duration-200 ease-in-out transition-colors hover:bg-gray-600 hover:border-gray-600 hover:text-white"
        name="c{{ forloop.counter }}" type="radio" value="current"/>
    </div>
    {% endfor %}

    <p>Which project is better overall?</p>
    <input class="mx-auto sm:mx-0 sm:rounded-r-none flex justify-center px-4 py-2 rounded cursor-pointer border duration-200 ease-in-out transition-colors hover:bg-gray-600 hover:border-gray-600 hover:text-white"
      name="c0" type="submit" value="previous"/>
    <input
      class="mx-auto sm:mx-0 sm:rounded-l-none sm:rounded-r-none border-l-0 border-r-0 flex justify-center px-4 py-2 rounded cursor-pointer border duration-200 ease-in-out transition-colors hover:bg-gray-600 hover:border-gray-600 hover:text-white"
      name="c0" type="submit" value="skip" onclick="return confirm('Are you sure? Please don\'t skip unless absolutely necessary.');"/>
    <input class="mx-auto sm:mx-0 sm:rounded-l-none flex justify-center px-4 py-2 rounded cursor-pointer border duration-200 ease-in-out transition-colors hover:bg-gray-600 hover:border-gray-600 hover:text-white"
      name="c0" type="submit" value="current"/>

    <input type="hidden" name="prev_id" value="{{ prev.id }}">
    <input type="hidden" name="current_id" value="{{ current.id }}">
  </form>
</div>
{% endblock content %}
